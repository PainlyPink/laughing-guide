<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>by tg</title>
</head>

<body bgcolor="#FFF4B7" style="font-size: xx-large; color: #006A67; font: 2em sans-serif;">
    Who is Hanshika?
    <form>
        <label>
            <input type="radio" name="option" value="girl" />
            girl
        </label>
        <label>
            <input type="radio" name="option" value="bonda" />
            bonda
        </label>
        <label>
            <input type="radio" name="option" value="monkey" />
            monkey
        </label>
        <label>
            <input type="radio" name="option" value="baby" />
            baby
        </label>
    </form>
    <p id="selected-option">Please select an option</p>

    <br />

    <div id="feedback" hidden>
        Do you agree?
        <form>
            <label style="color: #06948f;">
                <input type="radio" name="option" value="yes" checked disabled />
                yes!
            </label>
            <label>
                <input type="radio" name="option" value="no" disabled />
                no
            </label>
        </form>
    </div>

    <script>
        let option = document.querySelector('input[name="option"][value="girl"]');
        const form = document.querySelector('form');
        const selectedOption = document.getElementById('selected-option');

        form.addEventListener('change', (event) => {
            if (event.target.name === 'option') {
                option.parentElement.style.color = '';
                option = event.target;
                option.parentElement.style.color = '#06948f';

                let selected = option.value;
                let showContent = ""

                if (selected === 'girl') {
                    selectedOption.style.color = "#C62E2E";
                    showContent = "Incorrect! Please try again!"
                }
                else if (selected === 'bonda') {
                    showContent = "🎉"
                }
                else if (selected === 'monkey') {
                    showContent = "🙈🐵🎊"
                }
                else if (selected === 'baby') {
                    showContent = "👶🎈"
                }
                selectedOption.textContent = showContent;
            }
        });

        const feedback = document.getElementById('feedback');
        form.addEventListener('change', (event) => {
            if (event.target.name === 'option') {
                if (event.target.value === 'girl') {
                    feedback.hidden = true;
                    return;
                }
                feedback.hidden = false;
            }
        });

        // Fetch the deployment time from deploy-date.json and display it
        fetch('/public/deploy-date.json')
            .then(response => response.json())
            .then(data => {
                document.getElementById('deployment-time').textContent = data.last_deployed;
            })
            .catch(error => {
                document.getElementById('deployment-time').textContent = "Failed to load deployment time.";
                console.error("Error fetching deployment date:", error);
            });
    </script>

    <footer style="font-style: italic; text-align: center; position: fixed; bottom: 0; width: 100%; font-size: large;">
        <p>by tg</p>
    </footer>
    <footer id="deployment-time"
        style="font-style: italic; text-align: right; position: fixed; bottom: 0; padding-bottom: 3px; font-size: small;">
        <p>loading deployment time</p>
    </footer>
</body>

</html>